<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trắc nghiệm Tin học</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .glass-morphism {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
        }
        .option-card {
            transition: all 0.2s ease;
        }
        .review-card {
            border-left: 4px solid #ef4444;
            background: #fef2f2;
        }
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 10px;
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <div id="app" class="max-w-3xl mx-auto">
        <!-- Màn hình bắt đầu -->
        <div id="start-screen" class="glass-morphism p-8 text-center">
            <h1 class="text-3xl font-bold text-indigo-700 mb-4">TRẮC NGHIỆM TIN HỌC 7</h1>
            <h2 class="text-xl text-gray-600 mb-8">Chủ đề: Thuật toán Tìm kiếm tuần tự</h2>
            
            <div class="space-y-4 mb-8 text-left">
                <div>
                    <label class="block font-semibold text-gray-700 mb-2">Họ và tên học sinh:</label>
                    <input type="text" id="student-name" class="w-full px-4 py-3 border-2 border-indigo-100 rounded-xl focus:border-indigo-500 outline-none" placeholder="Nhập tên của em...">
                </div>
                <div>
                    <label class="block font-semibold text-gray-700 mb-2">Lớp:</label>
                    <input type="text" id="student-class" class="w-full px-4 py-3 border-2 border-indigo-100 rounded-xl focus:border-indigo-500 outline-none" placeholder="Ví dụ: 7A1">
                </div>
            </div>

            <button onclick="startQuiz()" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 px-10 rounded-full transition-all shadow-lg">
                BẮT ĐẦU LÀM BÀI
            </button>
        </div>

        <!-- Màn hình câu hỏi -->
        <div id="quiz-screen" class="glass-morphism p-6 md:p-10 hidden">
            <div class="flex justify-between items-center mb-6">
                <div class="text-indigo-600 font-bold" id="question-counter">Câu hỏi 1/10</div>
                <div id="timer" class="text-gray-500 font-mono">00:00</div>
            </div>

            <div class="w-full bg-gray-200 h-2 rounded-full mb-8">
                <div id="progress-bar" class="bg-indigo-500 h-2 rounded-full transition-all" style="width: 10%"></div>
            </div>

            <div id="question-container">
                <h3 id="question-text" class="text-xl font-semibold text-gray-800 mb-6 leading-relaxed"></h3>
                <div id="options-container" class="grid grid-cols-1 gap-4"></div>
            </div>

            <div class="mt-8 flex justify-end">
                <button id="next-btn" onclick="nextQuestion()" class="hidden bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-xl transition-all shadow-md">
                    Tiếp theo
                </button>
            </div>
        </div>

        <!-- Màn hình kết quả -->
        <div id="result-screen" class="glass-morphism p-8 md:p-10 hidden">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-2">Kết quả làm bài</h2>
                <p class="text-lg text-gray-600 mb-4">Học sinh: <span id="res-name" class="font-bold text-indigo-600"></span> - Lớp: <span id="res-class" class="font-bold text-indigo-600"></span></p>
                <div class="text-6xl font-black text-indigo-700 mb-4">
                    <span id="score">0</span>/10
                </div>
                <p id="feedback" class="text-gray-600 italic mb-6"></p>
                <button onclick="location.reload()" class="bg-indigo-100 hover:bg-indigo-200 text-indigo-700 font-bold py-3 px-8 rounded-xl transition-all mb-8">
                    Làm lại bài
                </button>
            </div>

            <!-- Phần xem lại đáp án sai -->
            <div id="wrong-answers-section" class="hidden">
                <h3 class="text-xl font-bold text-red-600 mb-4 border-b-2 border-red-100 pb-2">Danh sách các câu làm sai:</h3>
                <div id="wrong-answers-list" class="space-y-4 max-h-96 overflow-y-auto pr-2 custom-scrollbar">
                    <!-- Các câu sai sẽ được render ở đây -->
                </div>
            </div>
        </div>
    </div>

    <script>
        const questions = [
            {
                question: "Bạn An muốn tìm cuốn sách 'Dế Mèn Phiêu Lưu Ký' trên một ngăn kệ có 20 cuốn sách xếp lộn xộn. An xem tên từng cuốn từ trái sang phải cho đến khi thấy đúng tên sách. Đây là ví dụ của thuật toán nào?",
                options: ["Tìm kiếm tuần tự", "Tìm kiếm nhị phân", "Sắp xếp chọn", "Sắp xếp nổi bọt"],
                answer: 0
            },
            {
                question: "Trong thuật toán tìm kiếm tuần tự, chúng ta thực hiện so sánh giá trị cần tìm với các phần tử trong danh sách theo thứ tự nào?",
                options: ["Từ giữa sang hai bên", "Bắt đầu từ phần tử cuối cùng", "Lần lượt từ phần tử đầu tiên đến cuối cùng", "Chọn ngẫu nhiên một phần tử để so sánh"],
                answer: 2
            },
            {
                question: "Lớp 7A có danh sách học sinh chưa được sắp xếp theo bảng chữ cái. Giáo viên muốn tìm xem bạn 'Bình' có trong danh sách không. Điều kiện để thuật toán tìm kiếm tuần tự dừng lại là gì?",
                options: ["Tìm thấy bạn Bình hoặc đã xem hết danh sách", "Chỉ dừng khi đã xem hết danh sách", "Chỉ dừng khi tìm thấy bạn Bình", "Dừng lại ở vị trí giữa danh sách"],
                answer: 0
            },
            {
                question: "Bạn đang tìm một chiếc chìa khóa trong chùm chìa khóa 10 chiếc. Tình huống tốt nhất (nhanh nhất) của tìm kiếm tuần tự xảy ra khi nào?",
                options: ["Chiếc chìa khóa cần tìm nằm ở cuối chùm", "Chiếc chìa khóa cần tìm nằm ở đầu chùm", "Chiếc chìa khóa cần tìm nằm ở giữa chùm", "Không có chiếc chìa khóa nào trong chùm"],
                answer: 1
            },
            {
                question: "Cho danh sách số: [5, 3, 8, 1, 9]. Để tìm số 9 bằng thuật toán tìm kiếm tuần tự, ta cần thực hiện bao nhiêu lần so sánh?",
                options: ["1 lần", "3 lần", "5 lần", "9 lần"],
                answer: 2
            },
            {
                question: "Đặc điểm quan trọng nhất của thuật toán tìm kiếm tuần tự là gì?",
                options: ["Danh sách bắt buộc phải được sắp xếp", "Danh sách không cần phải sắp xếp trước", "Tốc độ cực nhanh với danh sách lớn", "Sử dụng rất nhiều bộ nhớ"],
                answer: 1
            },
            {
                question: "Tình huống xấu nhất (chậm nhất) của thuật toán tìm kiếm tuần tự khi tìm giá trị X trong danh sách có n phần tử là gì?",
                options: ["X nằm ở vị trí đầu tiên", "X nằm ở vị trí thứ hai", "X không có trong danh sách hoặc nằm ở cuối danh sách", "X nằm chính giữa danh sách"],
                answer: 2
            },
            {
                question: "Trong thực tế, khi nào em nên sử dụng thuật toán tìm kiếm tuần tự?",
                options: ["Khi danh sách rất ngắn hoặc chưa được sắp xếp", "Khi danh sách có hàng triệu dữ liệu", "Khi cần tìm kiếm với tốc độ ánh sáng", "Khi danh sách đã được sắp xếp rất ngăn nắp"],
                answer: 0
            },
            {
                question: "Giả sử em tìm số 10 trong danh sách [2, 4, 6, 8]. Sau khi duyệt hết danh sách mà không thấy, thuật toán sẽ trả về kết quả gì?",
                options: ["Thông báo không tìm thấy", "Tiếp tục tìm lại từ đầu", "Thông báo tìm thấy ở vị trí số 0", "Máy tính bị treo"],
                answer: 0
            },
            {
                question: "Bước đầu tiên của thuật toán tìm kiếm tuần tự trong một dãy số là gì?",
                options: ["So sánh số cần tìm với số cuối cùng", "Sắp xếp dãy số tăng dần", "So sánh số cần tìm với số đầu tiên", "Chia đôi dãy số"],
                answer: 2
            }
        ];

        let currentQuestion = 0;
        let score = 0;
        let studentAnswers = []; // Lưu lại lựa chọn của học sinh
        let studentInfo = { name: '', class: '' };
        let timerInterval;
        let seconds = 0;

        function startQuiz() {
            const name = document.getElementById('student-name').value.trim();
            const sClass = document.getElementById('student-class').value.trim();

            if (!name || !sClass) {
                alert("Vui lòng nhập đầy đủ Tên và Lớp nhé!");
                return;
            }

            studentInfo.name = name;
            studentInfo.class = sClass;

            document.getElementById('start-screen').classList.add('hidden');
            document.getElementById('quiz-screen').classList.remove('hidden');
            
            startTimer();
            showQuestion();
        }

        function startTimer() {
            timerInterval = setInterval(() => {
                seconds++;
                const mins = Math.floor(seconds / 60).toString().padStart(2, '0');
                const secs = (seconds % 60).toString().padStart(2, '0');
                document.getElementById('timer').innerText = `${mins}:${secs}`;
            }, 1000);
        }

        function showQuestion() {
            const q = questions[currentQuestion];
            document.getElementById('question-counter').innerText = `Câu hỏi ${currentQuestion + 1}/${questions.length}`;
            document.getElementById('question-text').innerText = q.question;
            document.getElementById('progress-bar').style.width = `${((currentQuestion + 1) / questions.length) * 100}%`;

            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';

            q.options.forEach((option, index) => {
                const btn = document.createElement('button');
                btn.className = "option-card w-full text-left p-4 rounded-xl border-2 border-gray-100 hover:border-indigo-200 hover:bg-indigo-50 flex items-center group cursor-pointer";
                btn.innerHTML = `
                    <span class="w-8 h-8 rounded-full bg-gray-100 group-hover:bg-indigo-100 flex items-center justify-center mr-4 font-bold text-gray-500 transition-colors">
                        ${String.fromCharCode(65 + index)}
                    </span>
                    <span class="text-gray-700 font-medium">${option}</span>
                `;
                btn.onclick = () => selectOption(index, btn);
                optionsContainer.appendChild(btn);
            });

            document.getElementById('next-btn').classList.add('hidden');
        }

        function selectOption(index, element) {
            // Lưu câu trả lời của học sinh
            studentAnswers[currentQuestion] = index;

            // Vô hiệu hóa các nút khác và đánh dấu lựa chọn bằng màu trung tính (Xanh Indigo)
            const allOptions = document.querySelectorAll('.option-card');
            allOptions.forEach(opt => {
                opt.disabled = true;
                opt.classList.remove('hover:border-indigo-200', 'hover:bg-indigo-50');
                opt.classList.add('opacity-50', 'cursor-default');
            });

            element.classList.remove('opacity-50');
            element.classList.add('border-indigo-500', 'bg-indigo-50', 'ring-2', 'ring-indigo-100');
            element.querySelector('span').classList.add('bg-indigo-600', 'text-white');

            document.getElementById('next-btn').classList.remove('hidden');
        }

        function nextQuestion() {
            // Tính điểm (ẩn)
            if (studentAnswers[currentQuestion] === questions[currentQuestion].answer) {
                score++;
            }

            currentQuestion++;
            if (currentQuestion < questions.length) {
                showQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            clearInterval(timerInterval);
            document.getElementById('quiz-screen').classList.add('hidden');
            document.getElementById('result-screen').classList.remove('hidden');

            document.getElementById('res-name').innerText = studentInfo.name;
            document.getElementById('res-class').innerText = studentInfo.class;
            document.getElementById('score').innerText = score;

            // Đưa ra nhận xét
            let feedback = "";
            if (score === 10) feedback = "Xuất sắc! Em đã nắm rất vững kiến thức về Tìm kiếm tuần tự.";
            else if (score >= 8) feedback = "Rất tốt! Em hiểu bài rất nhanh đấy.";
            else if (score >= 5) feedback = "Khá tốt. Hãy xem lại các lỗi sai bên dưới để rút kinh nghiệm nhé.";
            else feedback = "Em cần ôn tập kỹ hơn về thuật toán này. Xem lại danh sách câu sai để hiểu rõ hơn nhé!";
            document.getElementById('feedback').innerText = feedback;

            // Hiển thị danh sách câu sai
            const wrongAnswersList = document.getElementById('wrong-answers-list');
            wrongAnswersList.innerHTML = '';
            let hasWrong = false;

            questions.forEach((q, i) => {
                if (studentAnswers[i] !== q.answer) {
                    hasWrong = true;
                    const div = document.createElement('div');
                    div.className = "review-card p-4 rounded-xl";
                    div.innerHTML = `
                        <p class="font-bold text-gray-800 mb-1">Câu ${i + 1}: ${q.question}</p>
                        <p class="text-sm text-red-600 italic">Em chọn: ${q.options[studentAnswers[i]]}</p>
                        <p class="text-sm text-emerald-600 font-bold">Đáp án đúng: ${q.options[q.answer]}</p>
                    `;
                    wrongAnswersList.appendChild(div);
                }
            });

            if (hasWrong) {
                document.getElementById('wrong-answers-section').classList.remove('hidden');
            } else {
                const winMsg = document.createElement('p');
                winMsg.className = "text-emerald-600 font-bold text-center py-4";
                winMsg.innerText = "Chúc mừng! Em không làm sai câu nào.";
                wrongAnswersList.appendChild(winMsg);
                document.getElementById('wrong-answers-section').classList.remove('hidden');
            }
        }
    </script>
</body>
</html>