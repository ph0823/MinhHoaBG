<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H√†nh Tr√¨nh Di S·∫£n - Danh Nh√¢n TP.HCM</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&family=Patrick+Hand&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Merriweather', serif; /* Ph√¥ng ch·ªØ ki·ªÉu s√°ch s·ª≠ */
            background-color: #2c241b; /* M√†u n√¢u c·ªï ƒëi·ªÉn */
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%234a3b2a' fill-opacity='0.2'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            color: #f3e5ab; /* M√†u gi·∫•y c≈© */
            overflow-x: hidden;
        }

        .scroll-paper {
            background: #f3e5ab;
            color: #3e2723;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5), inset 0 0 60px rgba(139, 69, 19, 0.1);
            border-radius: 8px;
            position: relative;
        }

        /* Hi·ªáu ·ª©ng cu·ªôn gi·∫•y */
        .scroll-paper::before, .scroll-paper::after {
            content: "";
            position: absolute;
            left: 0;
            right: 0;
            height: 20px;
            background: linear-gradient(to right, #8d6e63, #d7ccc8, #8d6e63);
            border-radius: 10px;
            box-shadow: 0 5px 10px rgba(0,0,0,0.3);
        }
        .scroll-paper::before { top: -10px; }
        .scroll-paper::after { bottom: -10px; }

        .option-btn {
            font-family: 'Patrick Hand', cursive; /* Ph√¥ng ch·ªØ vi·∫øt tay */
            transition: all 0.3s ease;
        }
        .option-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .correct-anim {
            animation: bounce 0.5s;
            background-color: #4ade80 !important; /* Green */
            color: #064e3b !important;
            border-color: #064e3b !important;
        }
        .wrong-anim {
            animation: shake 0.5s;
            background-color: #f87171 !important; /* Red */
            color: #7f1d1d !important;
            border-color: #7f1d1d !important;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #ffd700;
            animation: fall linear forwards;
        }
        @keyframes fall {
            to { transform: translateY(100vh) rotate(720deg); }
        }
        
        .figure-icon {
            transition: opacity 0.5s, transform 0.5s;
            transform-origin: center;
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <!-- GAME CONTAINER -->
    <div class="w-full max-w-2xl relative z-10">
        
        <!-- INTRO SCREEN -->
        <div id="intro-screen" class="scroll-paper p-10 text-center flex flex-col items-center gap-6 animate-fade-in">
            <div class="bg-amber-800 text-yellow-100 p-4 rounded-full shadow-lg">
                <i data-lucide="scroll-text" class="w-16 h-16"></i>
            </div>
            <h1 class="4xl font-bold text-amber-900 mb-2">H√†nh Tr√¨nh Di S·∫£n</h1>
            <p class="text-xl font-medium">Ch·ªß ƒë·ªÅ: Danh nh√¢n L·ªãch s·ª≠ VƒÉn h√≥a TP.HCM</p>
            <div class="h-1 w-32 bg-amber-800/20 rounded-full mx-auto"></div>
            <p class="text-lg text-amber-900/80 italic">
                "Ch√†o m·ª´ng c√°c nh√† s·ª≠ h·ªçc tr·∫ª tu·ªïi! Ch√∫ng ta c√≥ <b>10 c√¢u ƒë·ªë</b> v·ªÅ hai nh√¢n v·∫≠t l·ªói l·∫°c: <b>Nguy·ªÖn H·ªØu C·∫£nh</b> (V·ªã Khai M·ªü) v√† <b>Tr·ªãnh Ho√†i ƒê·ª©c</b> (V·ªã H·ªçc Gi·∫£)."
            </p>
            <button onclick="startGame()" class="mt-4 px-8 py-3 bg-amber-700 text-white rounded-lg font-bold text-xl hover:bg-amber-800 transition shadow-lg flex items-center gap-2">
                <i data-lucide="play-circle"></i> B·∫Øt ƒë·∫ßu H√†nh Tr√¨nh
            </button>
        </div>

        <!-- QUIZ SCREEN (Hidden by default) -->
        <div id="quiz-screen" class="hidden scroll-paper p-8">
            <!-- Header: Progress & Score -->
            <div class="flex justify-between items-center mb-6 text-amber-900 border-b-2 border-amber-900/10 pb-4">
                <div class="flex items-center gap-2">
                    <span class="font-bold text-lg">C√¢u h·ªèi: <span id="q-current">1</span>/10</span>
                </div>
                <div class="flex items-center gap-2 bg-amber-100 px-3 py-1 rounded-lg">
                    <i data-lucide="star" class="text-yellow-600 fill-yellow-600 w-5 h-5"></i>
                    <span class="font-bold text-xl" id="score">0</span>
                </div>
            </div>

            <!-- Question Area -->
            <div class="mb-8 min-h-[120px] flex items-center justify-center">
                <h2 id="question-text" class="text-2xl font-bold text-center text-amber-900 leading-relaxed">
                    <!-- Question goes here -->
                </h2>
            </div>

            <!-- Image/Icon Placeholder (Illustrates the figure) -->
            <!-- ƒê√£ quay l·∫°i s·ª≠ d·ª•ng Lucide icons -->
            <div class="flex justify-center mb-6">
                 <div class="w-20 h-20 bg-amber-200/50 rounded-full flex items-center justify-center border-4 border-amber-500 shadow-md relative">
                     <!-- Icons for the two figures -->
                     <i id="figure-icon-nhc" data-lucide="ship" class="figure-icon text-amber-700 w-12 h-12 absolute scale-100"></i>
                     <i id="figure-icon-thd" data-lucide="book-open-text" class="figure-icon text-amber-700 w-12 h-12 absolute scale-0 opacity-0"></i>
                 </div>
            </div>

            <!-- Options Grid -->
            <div id="options-grid" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- Buttons generated by JS -->
            </div>

            <!-- Feedback / Next Button -->
            <div id="feedback-area" class="mt-6 text-center hidden">
                <p id="feedback-text" class="text-lg font-bold mb-3"></p>
                <button onclick="nextQuestion()" class="px-6 py-2 bg-amber-700 text-white rounded-lg hover:bg-amber-800 transition font-bold flex items-center gap-2 mx-auto">
                    C√¢u ti·∫øp theo <i data-lucide="arrow-right"></i>
                </button>
            </div>
        </div>

        <!-- RESULT SCREEN (Hidden by default) -->
        <div id="result-screen" class="hidden scroll-paper p-10 text-center flex flex-col items-center gap-6">
            <div class="relative">
                <i data-lucide="award" class="w-24 h-24 text-amber-600"></i>
                <i data-lucide="star" class="absolute -top-2 -right-2 w-10 h-10 text-yellow-500 fill-yellow-500 animate-bounce"></i>
            </div>
            
            <h2 class="text-3xl font-bold text-amber-900">Ho√†n Th√†nh H√†nh Tr√¨nh!</h2>
            
            <div class="bg-white/50 p-6 rounded-xl border border-amber-900/10 w-full">
                <p class="text-lg text-amber-800 mb-2">S·ªë ƒëi·ªÉm c·ªßa em:</p>
                <p class="text-5xl font-bold text-amber-700" id="final-score">0/100</p>
            </div>

            <p id="final-message" class="text-xl italic font-serif text-amber-900">
                <!-- Dynamic message -->
            </p>

            <div class="flex gap-4">
                <button onclick="resetGame()" class="px-6 py-2 bg-amber-700 text-white rounded-lg hover:bg-amber-800 transition font-bold">
                    Ch∆°i l·∫°i
                </button>
            </div>
        </div>

    </div>

    <script>
        lucide.createIcons();

        // DATA: 10 C√¢u h·ªèi (5 NHC, 5 THD)
        const questions = [
            // --- NGUY·ªÑN H·ªÆU C·∫¢NH (Khai m·ªè, ƒê√¥ ƒë·ªëc) - Index 0-4 ---
            {
                figure: "Nguy·ªÖn H·ªØu C·∫£nh (V·ªã Khai M·ªü)",
                question: "V√†o nƒÉm 1698, ai l√† ng∆∞·ªùi ƒë√£ v√¢ng l·ªánh Ch√∫a Nguy·ªÖn v√†o kinh l∆∞·ª£c x·ª© ƒê√†ng Trong v√† l·∫≠p ra ph·ªß Gia ƒê·ªãnh?",
                options: ["L√™ VƒÉn Duy·ªát", "Nguy·ªÖn H·ªØu C·∫£nh", "Tr·ªãnh Ho√†i ƒê·ª©c", "Tr∆∞∆°ng Vƒ©nh K√Ω"],
                correct: 1, 
                fact: "ƒê√∫ng r·ªìi! NƒÉm 1698, L·ªÖ Th√†nh H·∫ßu Nguy·ªÖn H·ªØu C·∫£nh ƒë√£ ch√≠nh th·ª©c x√°c l·∫≠p ch·ªß quy·ªÅn, ƒë·∫∑t n·ªÅn m√≥ng h√†nh ch√≠nh cho v√πng ƒë·∫•t S√†i G√≤n - TP.HCM ng√†y nay."
            },
            {
                figure: "Nguy·ªÖn H·ªØu C·∫£nh (V·ªã Khai M·ªü)",
                question: "Nguy·ªÖn H·ªØu C·∫£nh ƒë∆∞·ª£c tri·ªÅu ƒë√¨nh v√† nh√¢n d√¢n t√¥n vinh l√† g√¨ nh·ªù c√¥ng khai ph√° v√πng ƒë·∫•t ph∆∞∆°ng Nam?",
                options: ["T·∫£ Qu√¢n", "Th√†nh ho√†ng l√†ng v√† Th∆∞·ª£ng ƒë·∫≥ng th·∫ßn", "Hi·ªáp tr·∫•n Gia ƒê·ªãnh", "Ch·ªâ l√† quan v√µ"],
                correct: 1,
                fact: "Ch√≠nh x√°c! √îng ƒë∆∞·ª£c nh√¢n d√¢n th·ªù ph·ª•ng nh∆∞ m·ªôt v·ªã Th√†nh ho√†ng (c√≥ n∆°i phong Th∆∞·ª£ng ƒë·∫≥ng th·∫ßn) t·∫°i nhi·ªÅu ƒë√¨nh ƒë·ªÅn ·ªü Nam B·ªô."
            },
            {
                figure: "Nguy·ªÖn H·ªØu C·∫£nh (V·ªã Khai M·ªü)",
                question: "Qu√™ h∆∞∆°ng g·ªëc c·ªßa v·ªã Khai m·ªè Nguy·ªÖn H·ªØu C·∫£nh l√† ·ªü ƒë√¢u?",
                options: ["Th·ª´a Thi√™n Hu·∫ø", "Qu·∫£ng B√¨nh", "Qu·∫£ng Nam", "Thanh H√≥a"],
                correct: 1,
                fact: "√îng xu·∫•t th√¢n t·ª´ x√£ Ph∆∞·ªõc T·ª± (nay thu·ªôc x√£ V·∫°n Ninh), huy·ªán Qu·∫£ng Ninh, t·ªânh Qu·∫£ng B√¨nh."
            },
            {
                figure: "Nguy·ªÖn H·ªØu C·∫£nh (V·ªã Khai M·ªü)",
                question: "Sau khi l·∫≠p Ph·ªß Gia ƒê·ªãnh, Nguy·ªÖn H·ªØu C·∫£nh ƒë√£ t·ªï ch·ª©c c√°c ƒë∆°n v·ªã h√†nh ch√≠nh ƒë·∫ßu ti√™n n√†o?",
                options: ["L·∫≠p T·ªânh S√†i G√≤n v√† Huy·ªán Ch·ª£ L·ªõn", "L·∫≠p 3 dinh: Tr·∫•n Bi√™n, Phi√™n Tr·∫•n, Long H·ªì", "L·∫≠p 2 dinh: Tr·∫•n Bi√™n (ƒê·ªìng Nai) v√† Phi√™n Tr·∫•n (S√†i G√≤n)", "Ch·ªâ l·∫≠p Ph·ªß Gia ƒê·ªãnh"],
                correct: 2,
                fact: "√îng ƒë√£ thi·∫øt l·∫≠p Ph·ªß Gia ƒê·ªãnh v√† 2 dinh ƒë·∫ßu ti√™n l√† Tr·∫•n Bi√™n (v√πng ƒê·ªìng Nai, B√† R·ªãa - V≈©ng T√†u) v√† Phi√™n Tr·∫•n (v√πng TP.HCM, T√¢y Ninh)."
            },
            {
                figure: "Nguy·ªÖn H·ªØu C·∫£nh (V·ªã Khai M·ªü)",
                question: "C√¥ng lao c·ªßa Nguy·ªÖn H·ªØu C·∫£nh g·∫Øn li·ªÅn v·ªõi vi·ªác m·ªü mang v√† b·∫£o v·ªá v√πng ƒë·∫•t n√†o?",
                options: ["V√πng T√¢y Nguy√™n", "V√πng ƒë·∫•t Ch√¢n L·∫°p (Campuchia)", "V√πng ƒë·∫•t Nam B·ªô (S√†i G√≤n v√† ƒê·ªìng b·∫±ng s√¥ng C·ª≠u Long)", "V√πng ƒë·∫•t ph√≠a B·∫Øc Hu·∫ø"],
                correct: 2,
                fact: "√îng c√≥ c√¥ng l·ªõn trong vi·ªác kinh l∆∞·ª£c v√† thi·∫øt l·∫≠p ch·ªß quy·ªÅn ch√≠nh th·ª©c cho v√πng ƒë·∫•t Nam B·ªô r·ªông l·ªõn."
            },

            // --- TR·ªäNH HO√ÄI ƒê·ª®C (H·ªçc gi·∫£, S·ª≠ gia) - Index 5-9 ---
            {
                figure: "Tr·ªãnh Ho√†i ƒê·ª©c (V·ªã H·ªçc Gi·∫£)",
                question: "Tr·ªãnh Ho√†i ƒê·ª©c n·ªïi ti·∫øng v·ªõi b·ªô s√°ch ƒë·ªãa l√Ω - l·ªãch s·ª≠ n√†o, ƒë∆∞·ª£c xem l√† t∆∞ li·ªáu qu√Ω gi√° v·ªÅ v√πng ƒë·∫•t Nam B·ªô?",
                options: ["Gia ƒê·ªãnh th√†nh th√¥ng ch√≠", "ƒê·∫°i Nam th·ª±c l·ª•c", "Ph·ªß bi√™n t·∫°p l·ª•c", "L·ª•c V√¢n Ti√™n"],
                correct: 0,
                fact: "Ch√≠nh x√°c! 'Gia ƒê·ªãnh th√†nh th√¥ng ch√≠' l√† c√¥ng tr√¨nh kh·∫£o c·ª©u t√¢m huy·∫øt nh·∫•t c·ªßa √¥ng, ghi ch√©p chi ti·∫øt v·ªÅ n√∫i s√¥ng, kh√≠ h·∫≠u, phong t·ª•c Gia ƒê·ªãnh x∆∞a."
            },
            {
                figure: "Tr·ªãnh Ho√†i ƒê·ª©c (V·ªã H·ªçc Gi·∫£)",
                question: "Tr·ªãnh Ho√†i ƒê·ª©c c√πng v·ªõi L√™ Quang ƒê·ªãnh v√† Ng√¥ Nh√¢n T·ªãnh ƒë∆∞·ª£c ng∆∞·ªùi ƒë·ªùi x∆∞ng t·ª•ng b·∫±ng danh hi·ªáu g√¨?",
                options: ["Gia ƒê·ªãnh Tam Ki·ªát", "Gia ƒê·ªãnh Tam H√πng", "Gia ƒê·ªãnh Tam Gia", "Nam B·ªô Tam Anh"],
                correct: 2,
                fact: "R·∫•t gi·ªèi! H·ªç ƒë∆∞·ª£c g·ªçi l√† 'Gia ƒê·ªãnh Tam Gia' - ba nh√† th∆°, h·ªçc gi·∫£ l·ªõn c·ªßa ƒë·∫•t Gia ƒê·ªãnh th·ªùi b·∫•y gi·ªù."
            },
            {
                figure: "Tr·ªãnh Ho√†i ƒê·ª©c (V·ªã H·ªçc Gi·∫£)",
                question: "Trong tri·ªÅu Nguy·ªÖn, Tr·ªãnh Ho√†i ƒê·ª©c ƒë√£ t·ª´ng gi·ªØ ch·ª©c v·ª• quan tr·ªçng n√†o?",
                options: ["Ch·ªâ l√† nh√† th∆°", "Ch·ªâ l√† th·∫ßy gi√°o", "Th∆∞·ª£ng th∆∞ b·ªô L·∫°i v√† Hi·ªáp tr·∫•n th√†nh Gia ƒê·ªãnh", "ƒê√¥ ƒë·ªëc Th·ªßy qu√¢n"],
                correct: 2,
                fact: "√îng t·ª´ng gi·ªØ nhi·ªÅu ch·ª©c v·ª• cao c·∫•p, trong ƒë√≥ c√≥ Th∆∞·ª£ng th∆∞ (B·ªô tr∆∞·ªüng) v√† Hi·ªáp tr·∫•n (Ph√≥ T·ªïng ƒë·ªëc) th√†nh Gia ƒê·ªãnh."
            },
            {
                figure: "Tr·ªãnh Ho√†i ƒê·ª©c (V·ªã H·ªçc Gi·∫£)",
                question: "Tr·ªãnh Ho√†i ƒê·ª©c thu·ªôc nh√≥m c∆∞ d√¢n n√†o ƒë√£ g√≥p ph·∫ßn x√¢y d·ª±ng v√† ph√°t tri·ªÉn v√πng ƒë·∫•t Gia ƒê·ªãnh?",
                options: ["C∆∞ d√¢n Khmer", "C∆∞ d√¢n ChƒÉm", "C∆∞ d√¢n Minh H∆∞∆°ng (g·ªëc Hoa)", "C∆∞ d√¢n ng∆∞·ªùi Th∆∞·ª£ng"],
                correct: 2,
                fact: "√îng l√† ng∆∞·ªùi g·ªëc Minh H∆∞∆°ng (Hoa ki·ªÅu ƒë·ªãnh c∆∞) v√† l√† m·ªôt trong nh·ªØng ƒë·∫°i di·ªán ti√™u bi·ªÉu c·ªßa nh√≥m c∆∞ d√¢n n√†y trong l·ªãch s·ª≠ Nam B·ªô."
            },
            {
                figure: "Tr·ªãnh Ho√†i ƒê·ª©c (V·ªã H·ªçc Gi·∫£)",
                question: "Vai tr√≤ ch√≠nh c·ªßa Tr·ªãnh Ho√†i ƒê·ª©c trong l·ªãch s·ª≠ vƒÉn h√≥a l√† g√¨?",
                options: ["Quan v√µ, t∆∞·ªõng qu√¢n", "T∆∞·ªõng qu√¢n, ng∆∞·ªùi l√†m ƒë∆∞·ªùng", "Nh√† th∆°, nh√† s·ª≠ h·ªçc, h·ªçc gi·∫£", "K·ªπ s∆∞ x√¢y d·ª±ng ƒë√™ ƒëi·ªÅu"],
                correct: 2,
                fact: "√îng l√† m·ªôt danh sƒ© n·ªïi ti·∫øng v·ªõi t√†i vƒÉn ch∆∞∆°ng v√† kh·∫£o c·ª©u l·ªãch s·ª≠, ƒë√≥ng g√≥p l·ªõn v√†o kho t√†ng vƒÉn h√≥a c·ªßa ƒë·∫•t Gia ƒê·ªãnh."
            }
        ];

        let currentQIndex = 0;
        let score = 0;
        let answered = false;
        const MAX_SCORE = 100; // 10 questions * 10 points

        // UI Elements
        const introScreen = document.getElementById('intro-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        const qText = document.getElementById('question-text');
        const optionsGrid = document.getElementById('options-grid');
        const feedbackArea = document.getElementById('feedback-area');
        const feedbackText = document.getElementById('feedback-text');
        const currentQDisplay = document.getElementById('q-current');
        const scoreDisplay = document.getElementById('score');
        
        // ƒê√£ c·∫≠p nh·∫≠t l·∫°i t·ª´ img sang icon
        const iconNHC = document.getElementById('figure-icon-nhc'); 
        const iconTHD = document.getElementById('figure-icon-thd'); 

        function startGame() {
            introScreen.classList.add('hidden');
            resultScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            resetState();
            loadQuestion();
        }

        function resetState() {
            currentQIndex = 0;
            score = 0;
            scoreDisplay.innerText = "0";
        }

        function updateFigureIcon() {
            // Questions 0-4 are NHC (Nguy·ªÖn H·ªØu C·∫£nh - Ship)
            // Questions 5-9 are THD (Tr·ªãnh Ho√†i ƒê·ª©c - Book)
            const isNHC = currentQIndex < 5;

            if (isNHC) {
                // Hi·ªÉn th·ªã NHC icon
                iconNHC.classList.remove('scale-0', 'opacity-0');
                iconTHD.classList.add('scale-0', 'opacity-0');
            } else {
                // Hi·ªÉn th·ªã THD icon
                iconTHD.classList.remove('scale-0', 'opacity-0');
                iconNHC.classList.add('scale-0', 'opacity-0');
            }
        }

        function loadQuestion() {
            answered = false;
            feedbackArea.classList.add('hidden');
            const q = questions[currentQIndex];
            
            currentQDisplay.innerText = currentQIndex + 1;
            qText.innerText = q.question;
            
            updateFigureIcon();

            optionsGrid.innerHTML = '';
            
            q.options.forEach((opt, index) => {
                const btn = document.createElement('button');
                btn.className = "option-btn w-full p-4 bg-white/60 border-2 border-amber-900/20 rounded-xl text-lg font-bold text-amber-900 hover:bg-white text-left shadow-sm";
                btn.innerText = opt;
                btn.onclick = () => checkAnswer(index, btn);
                optionsGrid.appendChild(btn);
            });
        }

        function checkAnswer(selectedIndex, btnElement) {
            if (answered) return; // Prevent multiple clicks
            answered = true;

            const q = questions[currentQIndex];
            const isCorrect = (selectedIndex === q.correct);

            // Highlight chosen button
            if (isCorrect) {
                btnElement.classList.add('correct-anim');
                score += 10;
                scoreDisplay.innerText = score;
                playConfetti();
                feedbackText.innerHTML = `<span class="text-green-700">üéâ Tuy·ªát v·ªùi!</span> <span class="font-normal text-base block mt-1">${q.fact}</span>`;
            } else {
                btnElement.classList.add('wrong-anim');
                // Highlight correct one automatically
                const allBtns = optionsGrid.children;
                allBtns[q.correct].classList.add('correct-anim');
                feedbackText.innerHTML = `<span class="text-red-600">üòÖ Ti·∫øc qu√°!</span> <span class="font-normal text-base block mt-1 text-amber-900">ƒê√°p √°n ƒë√∫ng l√†: <b>${q.options[q.correct]}</b>.<br>${q.fact}</span>`;
            }

            // Disable all buttons
            Array.from(optionsGrid.children).forEach(b => b.disabled = true);

            // Show Feedback & Next Button
            feedbackArea.classList.remove('hidden');
        }

        function nextQuestion() {
            currentQIndex++;
            if (currentQIndex < questions.length) {
                loadQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            quizScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
            
            const finalScoreEl = document.getElementById('final-score');
            const finalMsgEl = document.getElementById('final-message');
            
            finalScoreEl.innerText = `${score}/${MAX_SCORE}`;
            
            if (score === MAX_SCORE) {
                finalMsgEl.innerText = "üéâ Tuy·ªát v·ªùi! Em ƒë√≠ch th·ªã l√† m·ªôt nh√† s·ª≠ h·ªçc nh√≠ t√†i ba v√† ƒë√£ ho√†n th√†nh xu·∫•t s·∫Øc h√†nh tr√¨nh di s·∫£n!";
                playConfetti();
            } else if (score >= 70) {
                finalMsgEl.innerText = "L√†m t·ªët l·∫Øm! Em ƒë√£ n·∫Øm ƒë∆∞·ª£c r·∫•t nhi·ªÅu ki·∫øn th·ª©c quan tr·ªçng v·ªÅ c√°c danh nh√¢n l·ªãch s·ª≠ ƒë·ªãa ph∆∞∆°ng.";
            } else if (score >= 50) {
                finalMsgEl.innerText = "Em ƒë·∫°t s·ªë ƒëi·ªÉm kh√°. H√£y t√¨m ƒë·ªçc th√™m v·ªÅ hai v·ªã danh nh√¢n n√†y ƒë·ªÉ c√≥ ki·∫øn th·ª©c v·ªØng v√†ng h∆°n nh√©!";
            } else {
                finalMsgEl.innerText = "C·ªë g·∫Øng h∆°n nh√©! ƒê√¢y l√† c∆° h·ªôi t·ªët ƒë·ªÉ c√°c em kh√°m ph√° th√™m v·ªÅ l·ªãch s·ª≠ c·ªßa th√†nh ph·ªë m√¨nh.";
            }
        }

        function resetGame() {
            startGame();
        }

        function playConfetti() {
            const colors = ['#d97706', '#b45309', '#fcd34d'];
            for (let i = 0; i < 30; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.top = '-10px';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
                document.body.appendChild(confetti);
                setTimeout(() => confetti.remove(), 4000);
            }
        }
    </script>
</body>
</html>